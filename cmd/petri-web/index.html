<!doctype html>
<html>
<script>
    function updateStats(stats) {
        document.getElementById("GeneExecN").innerHTML = stats.GeneExecN
        for (var name in stats.ByName) {
            var v = document.getElementById(name)
            v.innerHTML = stats.ByName[name]
        }
    }

    window.onload = function () {
        var ws = new WebSocket("{{.}}")

        ws.onmessage = function (ev) {
            var stats = JSON.parse(ev.data)
            updateStats(stats)
        }
    }
</script>
<body>
    <div>
        <table id="stats">
            <tr>
                <td>GeneExecN</td>
                <td id="GeneExecN">0</td>
            </tr>
            <tr>
                <td>CellsKilled</td>
                <td id="CellsKilled">0</td>
            </tr>
            <tr>
                <td>CellsShared</td>
                <td id="CellsShared">0</td>
            </tr>
            <tr>
                <td>ViableCellsKilled</td>
                <td id="ViableCellsKilled">0</td>
            </tr>
            <tr>
                <td>ViableCellsShared</td>
                <td id="ViableCellsShared">0</td>
            </tr>
        </table>
    </div>
</body>
</html>
